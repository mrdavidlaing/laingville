{"id":"LV-100","title":"macOS: make AeroSpace keybinds match Hyprland SUPER/SHIFT layers","description":"Change Karabiner CapsLock mapping so it does NOT include Shift, enabling Hyprland-style SUPER vs SUPER+SHIFT bindings. Update AeroSpace config so bindings match Hyprland muscle memory (SUPER+hjkl focus, SUPER+1-9 workspace, SUPER+SHIFT+hjkl move window, SUPER+SHIFT+1-9 send window).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T11:33:12.882158Z","updated_at":"2025-12-14T11:34:37.673851Z","closed_at":"2025-12-14T11:34:37.673851Z","dependencies":[{"issue_id":"LV-100","depends_on_id":"LV-d80","type":"discovered-from","created_at":"2025-12-14T11:33:12.883952Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-25u","title":"macOS: always remove ~/.local/bin/bd when brew bd installed","description":"Change cleanup_old_beads_install to always delete ~/.local/bin/bd whenever Homebrew steveyegge/beads/bd is installed (single source of truth in /opt/homebrew/bin).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T13:01:30.370321Z","updated_at":"2025-12-14T13:02:56.569354Z","closed_at":"2025-12-14T13:02:56.569354Z","dependencies":[{"issue_id":"LV-25u","depends_on_id":"LV-8k0","type":"discovered-from","created_at":"2025-12-14T13:01:30.372907Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-2vl","title":"macOS: use Cmd as SUPER for AeroSpace","description":"Switch AeroSpace bindings to use Cmd-only as the SUPER modifier (Cmd+hjkl focus, Cmd+1-9 workspace, Cmd+Shift+hjkl move, Cmd+Shift+1-9 send). Remove Karabiner dependency for the core workflow.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T11:37:52.320118Z","updated_at":"2025-12-14T11:39:33.365863Z","closed_at":"2025-12-14T11:39:33.365863Z","dependencies":[{"issue_id":"LV-2vl","depends_on_id":"LV-100","type":"discovered-from","created_at":"2025-12-14T11:37:52.321954Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-8b2","title":"macOS: add Cmd+F AeroSpace fullscreen","description":"Add Cmd+F binding in AeroSpace config to toggle fullscreen (Hyprland-style SUPER+F).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:46:30.622322Z","updated_at":"2025-12-14T11:47:44.947288Z","closed_at":"2025-12-14T11:47:44.947288Z","dependencies":[{"issue_id":"LV-8b2","depends_on_id":"LV-2vl","type":"discovered-from","created_at":"2025-12-14T11:46:30.62481Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-8k0","title":"macOS: cleanup old ~/.local/bin/bd artifacts","description":"Add a macOS setup-user custom script to remove legacy bd installs (e.g. ~/.local/bin/bd from old go/curl installer) when Homebrew bd is installed, preventing PATH shadowing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T12:53:13.091595Z","updated_at":"2025-12-14T12:54:58.575584Z","closed_at":"2025-12-14T12:54:58.575584Z","dependencies":[{"issue_id":"LV-8k0","depends_on_id":"LV-m1z","type":"discovered-from","created_at":"2025-12-14T12:53:13.092991Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-8lc","title":"macOS: Cmd+Enter always opens new Ghostty","description":"Change AeroSpace cmd+enter binding to always open a new Ghostty (use 'open -na Ghostty' so it doesn't just focus an existing window).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T12:03:57.01794Z","updated_at":"2025-12-14T12:05:27.979051Z","closed_at":"2025-12-14T12:05:27.979051Z","dependencies":[{"issue_id":"LV-8lc","depends_on_id":"LV-2vl","type":"discovered-from","created_at":"2025-12-14T12:03:57.020048Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-8rj","title":"macOS: make Cmd+J toggle container split orientation","description":"Change Cmd+J to toggle the focused container layout between horizontal and vertical (AeroSpace layout toggle) so it behaves like Hyprland/Omarchy togglesplit affecting the focused window + its neighbor(s), without using the split command.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T12:23:27.519874Z","updated_at":"2025-12-14T12:24:48.439085Z","closed_at":"2025-12-14T12:24:48.439085Z","dependencies":[{"issue_id":"LV-8rj","depends_on_id":"LV-gp1","type":"discovered-from","created_at":"2025-12-14T12:23:27.522086Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-c699","title":"Fix CI failures present on 1 Nov 2025","description":"Multiple CI test failures are preventing the build from passing. These failures are unrelated to recent code changes and appear to be pre-existing issues that need to be resolved.\n\nContext:\n- All failures observed in GitHub Actions runs on 2025-11-01\n- Failures span multiple platforms: Windows, macOS, and Arch Linux\n- The Nix-based tests are passing successfully\n\nImpact:\n- CI pipeline is failing on every push\n- Blocks confident merging of PRs\n- Prevents automated quality checks from completing","acceptance_criteria":"- [ ] All CI jobs pass on main branch\n- [ ] PowerShell linting completes without errors\n- [ ] PowerShell formatting tests pass on all platforms\n- [ ] No test failures in GitHub Actions workflow","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-01T19:48:13.183234077Z","updated_at":"2025-11-01T22:10:49.18271604Z","closed_at":"2025-11-01T22:10:49.182718569Z","labels":["ci","infrastructure","testing"]}
{"id":"LV-c699.1","title":"Fix PowerShell linting errors (PSScriptAnalyzer)","description":"The PowerShell linting job is failing with 'make lint' Error 1 on Windows runners.\n\nObserved in:\n- Run 18995053910 (commit 907280d)\n- Run 18996459153 (latest)\n\nError:\n```\nmake: *** [Makefile:30: lint] Error 1\n##[error]Process completed with exit code 2.\n```\n\nThis is blocking the entire CI pipeline on Windows. The linting step must pass before tests can run.\n\nInvestigation needed:\n1. Determine which PowerShell file(s) are failing linting\n2. Identify the specific PSScriptAnalyzer rule violations\n3. Fix the violations or update linting rules if appropriate","acceptance_criteria":"- [ ] PowerShell linting completes without errors on Windows runners\n- [ ] 'make lint' exits with code 0\n- [ ] All PSScriptAnalyzer warnings are resolved or suppressed appropriately","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-01T19:48:28.793288646Z","updated_at":"2025-11-01T22:10:31.639183163Z","closed_at":"2025-11-01T22:10:31.639186631Z","labels":["ci","linting","powershell","windows"]}
{"id":"LV-c699.2","title":"Fix PowerShell CRLF line ending format tests","description":"Multiple ShellSpec tests are failing related to CRLF line ending handling for PowerShell files on macOS and Arch Linux.\n\nFailing tests:\n1. `spec/format_line_endings_spec.sh:94` - converts PowerShell files with LF to CRLF\n2. `spec/format_line_endings_spec.sh:113` - maintains CRLF line endings in PowerShell files\n3. `spec/format_line_endings_spec.sh:132` - normalizes mixed line endings in PowerShell files to CRLF\n\nRoot cause:\nThe format-files.sh script is not properly converting or preserving CRLF (Windows-style) line endings for PowerShell files when running on Unix-based systems (macOS, Linux).\n\nImpact:\n- 6 test failures across macOS and Arch Linux runners\n- Exit code 101 on both platforms\n- These tests were confirmed pre-existing (failing since at least Oct 23)\n\nThis is lower priority than the linting errors but still needs to be fixed for CI to pass.","acceptance_criteria":"- [ ] All line ending tests pass on macOS runner\n- [ ] All line ending tests pass on Arch Linux runner\n- [ ] PowerShell files maintain CRLF line endings after formatting\n- [ ] Mixed line endings are properly normalized to CRLF","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-01T19:48:45.547308274Z","updated_at":"2025-11-01T20:49:31.3551836Z","closed_at":"2025-11-01T20:49:31.355186434Z","labels":["ci","line-endings","linux","macos","powershell","testing"]}
{"id":"LV-c699.3","title":"Fix PowerShell trailing whitespace/newline format tests","description":"ShellSpec tests are failing related to trailing whitespace and newline handling for PowerShell files on macOS and Arch Linux.\n\nFailing tests:\n1. `spec/format_whitespace_spec.sh:63` - adds trailing CRLF to PowerShell file that lacks one\n2. `spec/format_whitespace_spec.sh:82` - reduces multiple blank lines at end to single CRLF for PowerShell\n3. `spec/format_whitespace_spec.sh:135` - removes trailing spaces from PowerShell files while preserving CRLF\n\nRoot cause:\nThe format-files.sh script's trailing whitespace and newline normalization logic is not working correctly for PowerShell files on Unix systems, particularly when it needs to preserve or add CRLF line endings.\n\nImpact:\n- 6 test failures across macOS and Arch Linux runners\n- May be related to the CRLF line ending issues (LV-c699.2)\n- Could potentially be fixed together with line ending issues\n\nNote: This bead may have dependency on LV-c699.2 if the root cause is shared.","acceptance_criteria":"- [ ] Trailing CRLF tests pass on macOS runner\n- [ ] Trailing CRLF tests pass on Arch Linux runner  \n- [ ] Trailing whitespace is removed while preserving CRLF\n- [ ] Multiple blank lines are normalized to single CRLF","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-01T19:48:56.745838674Z","updated_at":"2025-11-01T20:49:36.52704453Z","closed_at":"2025-11-01T20:49:36.527047253Z","labels":["ci","linux","macos","powershell","testing","whitespace"],"dependencies":[{"issue_id":"LV-c699.3","depends_on_id":"LV-c699.2","type":"blocks","created_at":"2025-11-01T19:48:56.811093384Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-d80","title":"macOS: Phase 3 dotfiles migration + AeroSpace/Karabiner MVP","description":"Implement Phase 3 macOS dotfiles migration changes per docs/plans/2025-12-13-dotfiles-devcontainer-separation-design.md, and add minimal AeroSpace + Karabiner-Elements configuration for Hyprland-like tiling workflow (HYPER key + workspace/window navigation).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T11:26:07.857816Z","updated_at":"2025-12-14T11:29:26.665908Z","closed_at":"2025-12-14T11:29:26.665908Z"}
{"id":"LV-f76d","title":"Fix Arch Linux CI container missing 'make' package","description":"The Arch Linux CI container is failing with 'make: command not found' error.\n\nObserved in CI run 19003311597:\n- Platform: Arch Linux (archlinux:latest container on ubuntu-latest runner)\n- Step: Check formatting and lint\n- Error: /__w/_temp/d10dc99c-fa54-4418-ba05-e8b059bf591f.sh: line 15: make: command not found\n- Exit code: 127\n\nRoot cause:\nThe Arch Linux container doesn't have 'make' installed by default. This became visible after recent CI changes that started using 'make lint' command.\n\nImpact:\n- Blocks all Arch Linux CI tests\n- Prevents linting and testing from running\n- Only platform currently failing in CI\n\nInvestigation needed:\n1. Check .github/workflows CI configuration for Arch Linux container setup\n2. Determine where system dependencies are installed\n3. Add 'make' to the package list for Arch container","acceptance_criteria":"- [ ] Arch Linux CI container has 'make' installed\n- [ ] 'make lint' runs successfully in Arch container\n- [ ] All Arch Linux CI tests pass\n- [ ] No exit code 127 errors","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-01T22:12:56.853043969Z","updated_at":"2025-11-01T22:18:19.850374985Z","closed_at":"2025-11-01T22:18:19.850378187Z","labels":["archlinux","ci","container","infrastructure"]}
{"id":"LV-gp1","title":"macOS: add SUPER+J split-direction toggle (AeroSpace)","description":"Add Hyprland-equivalent SUPER+J binding on macOS (Cmd+J) to toggle the tiling split orientation in AeroSpace.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T12:12:42.215939Z","updated_at":"2025-12-14T12:14:07.24111Z","closed_at":"2025-12-14T12:14:07.24111Z","dependencies":[{"issue_id":"LV-gp1","depends_on_id":"LV-2vl","type":"discovered-from","created_at":"2025-12-14T12:12:42.217141Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-gs0","title":"macOS: restore beads installation changes","description":"Restore beads installation work that was reverted while isolating the AeroSpace commit: add Homebrew tap support in macOS Brewfile generation, update tests, and switch to installing bd via brew tap instead of the curl-based install script (where applicable).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T12:30:22.098304Z","updated_at":"2025-12-14T12:32:14.297467Z","closed_at":"2025-12-14T12:32:14.297467Z","dependencies":[{"issue_id":"LV-gs0","depends_on_id":"LV-d80","type":"discovered-from","created_at":"2025-12-14T12:30:22.099732Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-j7w","title":"WSL: xdg-open not found - configure wslview as browser opener","description":"## Problem\n\nWhen running beads-bridge serve on WSL, the browser auto-open fails with:\n```\n/bin/sh: line 1: xdg-open: command not found\n```\n\nThis happens because WSL doesn't have xdg-open by default, which is the standard Linux command to open URLs in the default browser.\n\n## Solution\n\nInstall wslu (WSL Utilities) which provides wslview - a tool that opens URLs in the Windows default browser.\n\n### Option 1: Install wslu package\n```bash\n# Ubuntu/Debian\nsudo apt install wslu\n\n# Then xdg-open alternative is available as:\nwslview http://example.com\n```\n\n### Option 2: Create xdg-open symlink/alias\nAfter installing wslu, create a symlink so xdg-open calls work:\n```bash\nsudo ln -s /usr/bin/wslview /usr/local/bin/xdg-open\n```\n\nOr add an alias to .bashrc:\n```bash\nalias xdg-open='wslview'\n```\n\n### Option 3: Set BROWSER environment variable\nSome tools check BROWSER before xdg-open:\n```bash\nexport BROWSER=wslview\n```\n\n## Verification\nAfter fix, this should open Windows browser:\n```bash\nxdg-open https://google.com\n# or\nwslview https://google.com\n```\n\n## Context\nDiscovered while running `just serve-bridge wms-rfg` in wellmaintained-skills repo on WSL.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-28T11:40:51.771961515Z","updated_at":"2025-11-28T11:40:51.771961515Z"}
{"id":"LV-m0z","title":"macOS: remove Rectangle persisted preferences","description":"Add a macOS-only setup-user custom step to remove Rectangle's persisted config (defaults domain and preference plist) so old Rectangle shortcuts/config donâ€™t linger after migrating to AeroSpace.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T12:10:21.803608Z","updated_at":"2025-12-14T12:12:04.078149Z","closed_at":"2025-12-14T12:12:04.078149Z","dependencies":[{"issue_id":"LV-m0z","depends_on_id":"LV-qvf","type":"discovered-from","created_at":"2025-12-14T12:10:21.804872Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-m1z","title":"macOS: fix beads Homebrew formula name","description":"Homebrew tap steveyegge/beads succeeds but setup-user fails on macOS because Brewfile uses brew \"bd\" which may not resolve. Use fully-qualified formula steveyegge/beads/bd in packages.yaml and update tests accordingly.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T12:48:13.797098Z","updated_at":"2025-12-14T12:51:05.328201Z","closed_at":"2025-12-14T12:51:05.328201Z","dependencies":[{"issue_id":"LV-m1z","depends_on_id":"LV-gs0","type":"discovered-from","created_at":"2025-12-14T12:48:13.799421Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-m3c","title":"macOS: remove Cmd+hjkl AeroSpace binds","description":"Remove Cmd+hjkl and Cmd+Shift+hjkl AeroSpace bindings; keep only Cmd+Arrow and Cmd+Shift+Arrow for focus/move to reduce conflicts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:44:48.783254Z","updated_at":"2025-12-14T11:46:00.522613Z","closed_at":"2025-12-14T11:46:00.522613Z","dependencies":[{"issue_id":"LV-m3c","depends_on_id":"LV-2vl","type":"discovered-from","created_at":"2025-12-14T11:44:48.784738Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-m7x","title":"Fix: wire cleanup_old_beads_install to macOS","description":"cleanup_old_beads_install was mistakenly added under omarchy.custom; move it to macos.custom so it runs on macOS where ~/.local/bin/bd can shadow Homebrew bd.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T12:57:35.242344Z","updated_at":"2025-12-14T12:58:53.141621Z","closed_at":"2025-12-14T12:58:53.141621Z","dependencies":[{"issue_id":"LV-m7x","depends_on_id":"LV-8k0","type":"discovered-from","created_at":"2025-12-14T12:57:35.244087Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-pio","title":"macOS: fix AeroSpace split vs normalization conflict","description":"AeroSpace config fails to parse because it uses the split command while enable-normalization-flatten-containers=true. Fix by disabling flatten-container normalization so cmd+j (split opposite) works (Hyprland-style SUPER+J).","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T12:17:11.22088Z","updated_at":"2025-12-14T12:18:43.570235Z","closed_at":"2025-12-14T12:18:43.570235Z","dependencies":[{"issue_id":"LV-pio","depends_on_id":"LV-gp1","type":"discovered-from","created_at":"2025-12-14T12:17:11.22222Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-qcj","title":"Fix GHSA-5j98-mcp5-4vw2-glob (CVE-2025-64756) in nodejs","status":"open","priority":0,"issue_type":"chore","created_at":"2025-12-22T13:17:56.625177Z","updated_at":"2025-12-22T13:17:56.625177Z"}
{"id":"LV-qvf","title":"macOS: remove Rectangle from dotfiles","description":"Stop managing Rectangle window manager: remove its dotfiles/config from the repo and add cleanup so existing Rectangle symlink/config is removed on macOS.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T12:06:02.848458Z","updated_at":"2025-12-14T12:09:37.895844Z","closed_at":"2025-12-14T12:09:37.895844Z","dependencies":[{"issue_id":"LV-qvf","depends_on_id":"LV-2vl","type":"discovered-from","created_at":"2025-12-14T12:06:02.849731Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-upy","title":"macOS: disable Cmd+H and Cmd+M shortcuts","description":"Disable conflicting macOS shortcuts Cmd+H (Hide app) and Cmd+M (Minimize) using Karabiner so Cmd can be used as SUPER for AeroSpace without accidental hides/minimizes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:48:46.076397Z","updated_at":"2025-12-14T11:50:27.486905Z","closed_at":"2025-12-14T11:50:27.486905Z","dependencies":[{"issue_id":"LV-upy","depends_on_id":"LV-2vl","type":"discovered-from","created_at":"2025-12-14T11:48:46.08001Z","created_by":"mrdavidlaing","metadata":"{}"}]}
{"id":"LV-v65","title":"Packages: install beads via brew on macOS and yay on Arch","description":"Ensure beads (bd) is installed via Homebrew on macOS (steveyegge/beads tap + bd formula) and via yay on Arch (beads-git), removing any redundant custom install_beads step for those platforms.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T12:34:08.840857Z","updated_at":"2025-12-14T12:35:19.492228Z","closed_at":"2025-12-14T12:35:19.492228Z","dependencies":[{"issue_id":"LV-v65","depends_on_id":"LV-gs0","type":"discovered-from","created_at":"2025-12-14T12:34:08.842869Z","created_by":"mrdavidlaing","metadata":"{}"}]}
