# Claude Code Settings

This directory contains Claude Code configuration for mrdavidlaing.

## Files

- `settings.json` - **Machine-specific** (not in git, generated by setup-user)
- `settings.template.json` - Cross-platform template (assumes bash in PATH)
- `settings.windows.json` - Windows-specific template with PATH overrides
- `commands/` - Custom slash commands (committed to git)
- `scripts/` - Helper scripts like bash-direnv-wrapper (committed to git)
- `wrappers/` - Command wrappers (committed to git)

## Platform-Specific Setup

### Mac/Linux
Uses `settings.template.json` as-is. Bash is always in PATH.

### Windows
Two options:

1. **If bash is in system PATH** (e.g., via Scoop, Git for Windows):
   - Use `settings.template.json`
   - Hook commands work cross-platform

2. **If bash is NOT in system PATH**:
   - Use `settings.windows.json` as template
   - Replace `{{USERNAME}}` with actual username
   - Adds bash to PATH via env.PATH setting

## Hook Commands

All hook commands use `bash` prefix for cross-platform compatibility:

```json
"command": "bash ~/.local/bin/claude-code-bash-direnv-wrapper"
```

This works when:
- Mac/Linux: bash always in PATH
- Windows: bash in system PATH or added via env.PATH

## Setup

The `setup-user` script automatically:
1. Detects platform (Windows/Mac/Linux)
2. Generates `settings.json` from appropriate template
3. Replaces `{{USERNAME}}` with current user
4. Creates symlink: `~/.claude/settings.json` â†’ `dotfiles/mrdavidlaing/.claude/settings.json`

## Manual Setup

If you need to manually create settings:

```bash
# Mac/Linux
cp settings.template.json settings.json

# Windows (with bash in PATH)
cp settings.template.json settings.json

# Windows (without bash in PATH)
cp settings.windows.json settings.json
# Edit and replace {{USERNAME}} with your Windows username
```
