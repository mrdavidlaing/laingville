[user]
	name = David Laing
	email = david@davidlaing.com

[credential "https://github.com"]
	helper =
	helper = !/usr/bin/gh auth git-credential

[credential "https://gist.github.com"]
	helper =
	helper = !/usr/bin/gh auth git-credential

[core]
	pager = bat --style=plain --color=always --paging=always
	autocrlf = input

[commit]
	cleanup = strip
	template = ~/.gitmessage

[pager]
	log = bat --style=numbers,changes --color=always
	show = bat --style=numbers,changes --color=always
	diff = bat --style=changes --color=always

[alias]
	# Essential shortcuts
	s = status --short --branch
	st = status
	a = add
	aa = add --all
	ap = add --patch
	c = commit
	cm = commit -m
	cam = commit -am

	# Log and history
	l = log --oneline --graph --decorate -10
	ll = log --graph --pretty=format:'%C(yellow)%h%C(reset) %C(blue)%an%C(reset) %C(green)%cr%C(reset) %s %C(red)%d%C(reset)' -20
	tree = log --graph --all --oneline --decorate
	last = log -1 HEAD --stat

	# Branch operations
	b = branch -v
	ba = branch -a
	co = checkout
	cob = checkout -b
	sw = switch
	swc = switch -c
	bd = branch -d
	bD = branch -D

	# Diff operations
	d = diff
	ds = diff --staged
	dc = diff --cached
	dw = diff --word-diff

	# Remote operations
	p = push
	pushu = !git push -u origin $(git branch --show-current)
	pushf = push --force-with-lease
	pl = pull
	pul = pull --rebase
	f = fetch
	fa = fetch --all

	# Workflow helpers
	uncommit = reset --soft HEAD~1
	undo = reset HEAD~1
	amend = commit --amend --no-edit
	unstage = restore --staged
	unstageall = restore --staged .

	# Cleanup and utilities
	cleanup = !git branch --merged | grep -v "\\*\\|main\\|master\\|develop" | xargs -n 1 git branch -d
	aliases = config --get-regexp alias

	# Identity management
	whoami = !echo "Name: $(git config user.name)" && echo "Email: $(git config user.email)"
	set-identity = !~/.local/bin/git-identity

[pull]
	rebase = true
[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true
