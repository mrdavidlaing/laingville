# Package configuration for mrdavidlaing
# Defines which packages to install for each platform

# Omarchy Linux - minimal packages (Omarchy provides desktop environment)
omarchy:
  yay:
    - 1password-cli
    - beads-git
    - tailscale
    - direnv  # Critical for devcontainer workflow
    - just  # Command runner (replaces make)
    - zellij
    - opencode-bin  # AI coding assistant CLI
  custom:
    - install_claude_code
    - install_perles
    - install_oh_my_opencode
    - remove_happy_cli
    - configure_tailscale
    - remove_rectangle_config
    - install_omarchy_zellij

# Arch Linux - full desktop environment
arch:
  pacman:
    # Desktop environment - KDE Plasma Wayland
    - plasma-meta
    - kde-applications-meta
    - sddm
    - pipewire
    - pipewire-pulse
    - wireplumber
    - pipewire-jack
    - pipewire-alsa
    - qt6-wayland
    - qt5-wayland
    - nodejs-lts-jod  # Node.js 22.x LTS (Jod) - includes npm
    - base-devel
    - bash
    - git
    - git-lfs
    - openssh
    - tmux
    - zellij
    - neovim
    - go
    - ripgrep
    - bat
    - fd
    - fzf
    - jq
    - shellcheck
    - just
    - hyprland
    - waybar
    - rofi
    - thunar
    - brightnessctl
    - playerctl
    - gimp
    - tailscale
  yay:
    # AUR-only packages
    - glibc-locales
    - direnv
    - github-cli
    - tig
    - lazygit
    - lua-language-server
    - bash-language-server
    - marksman
    - nil-git
    - terraform-ls
    - gopls
    - yaml-language-server
    - dockerfile-language-server
    - go-yq
    - starship
    - zoxide
    - eza
    - kubectl
    - pnpm
    - bun-bin
    - uv
    - yarn
    - shellspec
    - shfmt
    - glow
    - navi
    - crush-bin
    - opencode-bin
    - k9s
    - speedtest-cli
    - hyprpaper
    - ttf-jetbrains-mono-nerd
    - vivaldi
    - 1password-cli
    - beads-git
  yay_cleanup:
    - opencode  # Replaced with opencode-bin 2025-11-02, build broken in v1.0.11
  custom:
    - install_claude_code
    - install_perles
    - install_oh_my_opencode
    - remove_happy_cli
    - configure_tailscale

# macOS - Unix tools and GUI apps
# Dev tools (LSPs, build tools, project CLIs) belong in devcontainers
macos:
  tap:
    - steveyegge/beads
    - FelixKratz/formulae  # JankyBorders
  homebrew:
    # Shell experience
    - direnv
    - zoxide
    - starship
    - fzf
    - eza
    - bat
    # Swiss army knife
    - gh
    - jq
    - ripgrep
    - fd
    - tree
    # Git UX
    - git
    - git-lfs
    - tig
    - lazygit
    # System tools
    - rsync
    - neovim
    - tmux
    - zellij
    - navi
    - laio
    - tailscale
    - just  # Command runner (replaces make)
    - yarn
    - shellcheck  # Required for pre-push hook linting
    - shfmt  # Required for pre-push hook formatting
    - shellspec  # Required for pre-push hook tests
    - steveyegge/beads/bd  # beads issue tracker (from steveyegge/beads tap)
    # Container runtime
    - colima  # Docker-compatible container runtime (Docker Desktop alternative)
    - docker  # Docker CLI (works with colima)
    - lazydocker  # Terminal UI for docker/colima container management
    # Omarchy-style desktop enhancements (from FelixKratz/formulae tap)
    - FelixKratz/formulae/borders  # JankyBorders - window border highlighting
    # AI coding assistant
    - opencode
  cask:
    - ghostty
    - aerospace
    - karabiner-elements
    - hammerspoon  # For always-on-top floating windows
  homebrew_cleanup:
    - sketchybar  # Removed 2025-12-20, clock hidden behind notch, not worth the complexity
  custom:
    - install_claude_code
    - install_perles
    - install_oh_my_opencode
    - remove_happy_cli
    - configure_tailscale
    - cleanup_old_beads_install

# Nix - CLI-focused dev tooling (nixpkgs-unstable)
nix:
  nixpkgs-unstable:
    # Shell experience
    - direnv
    - zoxide
    - starship
    - fzf
    - eza
    - bat
    # Swiss army knife
    - gh
    - jq
    - ripgrep
    - fd
    - tree
    # Git UX
    - git
    - git-lfs
    - lazygit
    # System tools
    - rsync
    - neovim
    - tmux
    - zellij
    - just  # Command runner (replaces make)
    - shellcheck
    - shfmt
    - shellspec
    - beads
    - opencode
    - btop
    - docker
    - lazydocker
